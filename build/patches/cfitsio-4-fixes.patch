This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Kleis Auke Wolthuizen <github@kleisauke.nl>
Date: Thu, 26 Dec 2019 20:00:00 +0100
Subject: [PATCH 1/2] Don't install the library in lib/


diff --git a/CMakeLists.txt b/CMakeLists.txt
index 1111111..2222222 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -275,7 +275,6 @@ IF (BZIP2_FOUND)
 ENDIF(BZIP2_FOUND)
 
 SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES VERSION ${${PROJECT_NAME}_VERSION} SOVERSION ${${PROJECT_NAME}_MAJOR_VERSION})
-install(TARGETS ${LIB_NAME} DESTINATION ${LIB_DESTINATION})
 install(TARGETS ${LIB_NAME}
                             RUNTIME DESTINATION bin
                             LIBRARY DESTINATION lib

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Kleis Auke Wolthuizen <github@kleisauke.nl>
Date: Fri, 3 Jul 2020 19:00:00 +0200
Subject: [PATCH 2/2] Fix .pc files


diff --git a/cfitsio.pc.cmake b/cfitsio.pc.cmake
index 1111111..2222222 100644
--- a/cfitsio.pc.cmake
+++ b/cfitsio.pc.cmake
@@ -6,7 +6,8 @@ includedir=@INCLUDE_INSTALL_DIR@
 Name: cfitsio
 Description: FITS File Subroutine Library
 URL: https://heasarc.gsfc.nasa.gov/fitsio/
-Version: @CFITSIO_MAJOR@.@CFITSIO_MINOR@.@CFITSIO_MICRO@
-Libs: -L${libdir} @PKG_CONFIG_LIBS@
+Version: @CFITSIO_VERSION@
+Requires.private: zlib
+Libs: -L${libdir} -lcfitsio
 Libs.private: -lm
 Cflags: -I${includedir}
diff --git a/cfitsio.pc.in b/cfitsio.pc.in
index 1111111..2222222 100644
--- a/cfitsio.pc.in
+++ b/cfitsio.pc.in
@@ -7,6 +7,7 @@ Name: cfitsio
 Description: FITS File Subroutine Library
 URL: https://heasarc.gsfc.nasa.gov/fitsio/
 Version: @CFITSIO_MAJOR@.@CFITSIO_MINOR@.@CFITSIO_MICRO@
+Requires.private: zlib
 Libs: -L${libdir} -lcfitsio
 Libs.private: -lm @LIBS@
 Cflags: -I${includedir}
